# ==================== EasyTune-LLM 环境配置示例 ====================
# 复制此文件为 .env 并修改相应配置
# 命令: cp env.example .env

# ==================== 应用配置 ====================
APP_NAME=EasyTune-LLM
APP_VERSION=1.0.0
DEBUG=False

# ==================== 服务器配置 ====================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ==================== 数据库配置 ====================
# PostgreSQL数据库连接
DATABASE_URL=postgresql://easytune:easytune@localhost:5432/easytune_db
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ==================== Redis配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ==================== JWT认证配置 ====================
# ⚠️ 生产环境必须修改此密钥！
SECRET_KEY=your-secret-key-change-in-production-must-be-very-long-and-random
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== CORS配置 ====================
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ==================== 文件存储配置 ====================
UPLOAD_DIR=./uploads
MODELS_DIR=./models
LORA_ADAPTERS_DIR=./lora_adapters
CACHE_DIR=./cache
MAX_UPLOAD_SIZE=1073741824

# ==================== 训练配置 ====================
MAX_CONCURRENT_TASKS=5
DEFAULT_BATCH_SIZE=4
DEFAULT_MAX_LENGTH=512
GRADIENT_ACCUMULATION_STEPS=4

# ==================== Celery配置 ====================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ==================== 日志配置 ====================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5

# ==================== 监控配置 ====================
ENABLE_METRICS=True
METRICS_PORT=9090

# ==================== 安全配置 ====================
ENABLE_RATE_LIMIT=True
RATE_LIMIT_PER_MINUTE=60
ENABLE_AUDIT_LOG=True

# ==================== GPU配置 ====================
# 设备会自动检测，也可以手动指定: cuda, mps, cpu
# CUDA_VISIBLE_DEVICES=0
# DEVICE=auto
USE_MIXED_PRECISION=True

# ==================== 微服务地址 ====================
MODEL_SERVICE_URL=http://localhost:8001
TASK_SERVICE_URL=http://localhost:8002
AUTH_SERVICE_URL=http://localhost:8003
TRAINING_SERVICE_URL=http://localhost:8004

# ==================== 前端配置 ====================
REACT_APP_API_URL=http://localhost:8000/api/v1

# ==================== Docker配置 ====================
# Docker Compose使用
POSTGRES_USER=easytune
POSTGRES_PASSWORD=easytune
POSTGRES_DB=easytune_db

# ==================== LoRA默认配置 ====================
# L1 - 基础风格调整
LORA_L1_RANK=8
LORA_L1_ALPHA=16
LORA_L1_LR=3e-4

# L2 - 领域知识注入
LORA_L2_RANK=16
LORA_L2_ALPHA=32
LORA_L2_LR=1e-4

# L3 - 复杂指令重塑
LORA_L3_RANK=32
LORA_L3_ALPHA=64
LORA_L3_LR=5e-5

